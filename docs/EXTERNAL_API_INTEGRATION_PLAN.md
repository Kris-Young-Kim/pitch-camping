# 외부 API 연동 계획

## 개요

Pitch Camping 서비스의 확장을 위한 외부 API 연동 계획입니다. 예약, 날씨, 교통, 광고 시스템을 연동하여 사용자 경험을 개선하고 수익 모델을 검증합니다.

## 1. 예약 시스템 연동

### 1.1 API 조사

**조사 대상**:
- 야놀자 API (비공개, 제휴 필요)
- 여기어때 API (비공개, 제휴 필요)
- 각 캠핑장 자체 예약 시스템
- 외부 예약 플랫폼 연동 (예: 예약대행 서비스)

**선택 기준**:
- API 제공 여부
- 제휴 비용 및 수수료
- 데이터 정확도
- 실시간 재고 확인 가능 여부

### 1.2 구현 전략

**1단계: 외부 링크 방식**
- 캠핑장별 예약 사이트 링크 제공
- 새 창에서 열기 (`target="_blank"`)
- 간단한 버튼 컴포넌트로 시작

**2단계: 위젯 연동**
- 예약 플랫폼 제공 위젯 연동 (iframe 등)
- 우리 서비스 내에서 예약 가능하도록

**3단계: 직접 API 연동**
- 예약 플랫폼과 제휴 후 API 연동
- 실시간 재고 확인 및 예약 처리

### 1.3 우선 구현 사항

- `components/camping-detail/reservation-button.tsx`: 예약 버튼 컴포넌트
- 예약 사이트 링크 데이터베이스 저장 (고캠핑 API에서 확장 필요)
- 외부 링크 방식으로 우선 구현

## 2. 날씨 정보 연동

### 2.1 API 조사

**조사 대상**:
- 기상청 Open API (공공데이터포털)
- OpenWeatherMap API
- 네이버 날씨 API
- 카카오 날씨 API

**선택 기준**:
- 무료 사용량 한도
- 한국 지역 데이터 정확도
- 응답 속도
- 장기 예보 제공 여부

### 2.2 권장 API: 기상청 Open API

**이유**:
- 한국 공식 기상 데이터
- 무료 사용 가능
- 정확도 높음
- 단기/중기 예보 제공

**필요한 신청**:
- 공공데이터포털 회원가입
- API 키 발급

### 2.3 구현 방안

**1단계: 기본 날씨 정보**
- 캠핑장 위치 기반 현재 날씨 표시
- 온도, 날씨 상태, 강수 확률

**2단계: 일주일 예보**
- 7일간 날씨 예보 표시
- 최고/최저 온도, 날씨 아이콘

**3단계: 캠핑 날씨 지수**
- 캠핑하기 좋은 날씨 지수 계산
- 바람, 습도, 강수 확률 종합 평가

### 2.4 우선 구현 사항

- `lib/api/weather-api.ts`: 날씨 API 클라이언트
- `components/camping-detail/weather-widget.tsx`: 날씨 위젯 컴포넌트
- 기상청 Open API 연동

## 3. 교통 정보 연동

### 3.1 API 조사

**조사 대상**:
- 네이버 지도 경로 API
- 카카오 모빌리티 API
- 대중교통 API (공공데이터포털)
- T맵 API

**선택 기준**:
- 대중교통 경로 제공 여부
- 실시간 교통 정보 제공 여부
- API 사용량 한도
- 비용

### 3.2 권장 API: 네이버 지도 API

**이유**:
- 이미 네이버 지도를 사용 중
- 경로 안내 API 제공
- 대중교통/자동차 경로 모두 지원

### 3.3 구현 방안

**1단계: 기본 경로 안내**
- 사용자 위치에서 캠핑장까지 경로
- 자동차 경로 안내
- 소요 시간 및 거리 표시

**2단계: 대중교통 경로**
- 대중교통 경로 안내
- 환승 정보 포함
- 소요 시간 및 비용 표시

**3단계: 실시간 교통 정보**
- 실시간 교통 상황 반영
- 소요 시간 동적 업데이트

### 3.4 우선 구현 사항

- `lib/api/transport-api.ts`: 교통 API 클라이언트
- `components/camping-detail/transport-info.tsx`: 교통 정보 컴포넌트
- 네이버 지도 경로 API 연동

## 4. 광고 시스템 연동

### 4.1 API 조사

**조사 대상**:
- Google AdSense
- 네이버 애드포스트
- 카카오 애드핏
- 직접 광고 주문 시스템

**선택 기준**:
- 승인 조건
- 수익률 (CPC/CPM)
- 광고 품질
- 한국 지역 타겟팅

### 4.2 권장: Google AdSense

**이유**:
- 가장 널리 사용됨
- 승인 조건이 명확함
- 다양한 광고 형식 제공
- 자동 타겟팅

### 4.3 구현 방안

**1단계: 기본 광고 배치**
- 사이드바 광고 영역
- 목록 페이지 하단 광고
- 상세페이지 중간 광고

**2단계: 성과 측정**
- 클릭률 추적
- 노출수 측정
- 수익 분석

**3단계: 최적화**
- 광고 위치 A/B 테스트
- 사용자 행동 기반 광고 배치
- 수익 최대화

### 4.4 우선 구현 사항

- `components/ads/ad-banner.tsx`: 광고 배너 컴포넌트
- `components/ads/ad-sidebar.tsx`: 사이드바 광고 컴포넌트
- Google AdSense 위젯 연동 준비

## 5. 구현 우선순위

1. **High**: 예약 시스템 연동 (사용자 가치)
2. **Medium**: 날씨 정보 연동 (사용자 경험)
3. **Medium**: 광고 시스템 연동 (수익 모델)
4. **Low**: 교통 정보 연동 (사용자 경험)

## 6. 환경 변수 추가 필요

```env
# 날씨 API
WEATHER_API_KEY=

# 네이버 지도 경로 API
NAVER_CLIENT_SECRET=

# Google AdSense
NEXT_PUBLIC_ADSENSE_CLIENT_ID=
```

## 7. 다음 단계

1. 각 API 신청 및 키 발급
2. 프로토타입 개발 (외부 링크/위젯 방식)
3. 사용자 피드백 수집
4. 직접 API 연동 검토

